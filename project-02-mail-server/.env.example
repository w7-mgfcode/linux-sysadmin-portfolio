# Project 02: Mail Server Configuration
# Copy this file to .env and customize for your environment

#===============================================================================
# Project Configuration
#===============================================================================
PROJECT_NAME=mail-server
TZ=UTC

#===============================================================================
# Mail Configuration
#===============================================================================
# Primary domain for virtual mailboxes
MAIL_DOMAIN=example.com

# FQDN hostname for mail server
MAIL_HOSTNAME=mail.example.com

#===============================================================================
# MySQL Database Configuration
#===============================================================================
# WARNING: Change these passwords before deployment!
MYSQL_ROOT_PASSWORD=changeme_root_password
MYSQL_DATABASE=mailserver
MYSQL_USER=mailuser
MYSQL_PASSWORD=changeme_user_password

#===============================================================================
# Service Ports
#===============================================================================
# SMTP ports
SMTP_PORT=25          # Standard SMTP (MTA-to-MTA)
SUBMISSION_PORT=587   # Mail submission (client-to-server, STARTTLS)
SMTPS_PORT=465        # SMTP over SSL (legacy but widely used)

# IMAP ports
IMAP_PORT=143         # IMAP with STARTTLS
IMAPS_PORT=993        # IMAP over SSL (recommended)

# POP3 ports
POP3_PORT=110         # POP3 with STARTTLS
POP3S_PORT=995        # POP3 over SSL

# Web interfaces
WEBMAIL_PORT=80       # Roundcube webmail
DASHBOARD_PORT=8080   # Monitoring dashboard

#===============================================================================
# SSL/TLS Configuration
#===============================================================================
# Days until self-signed certificate expires
SSL_DAYS_VALID=3650   # 10 years

#===============================================================================
# Script Configuration
#===============================================================================
# Mail queue monitoring thresholds
QUEUE_WARNING=50       # Warning threshold for total queue size
QUEUE_CRITICAL=200     # Critical threshold for total queue size
DEFERRED_WARNING=25    # Warning threshold for deferred queue

# Backup retention
RETENTION_DAYS=30      # Days to keep backups
KEEP_LAST_FULL=3       # Number of full backups to always keep

# Monitoring intervals (minutes)
CHECK_INTERVAL=60      # Mail queue check interval (seconds)

#===============================================================================
# Optional: Alert Configuration
#===============================================================================
# Email alerts
# MAIL_ADMIN=admin@example.com

# Webhook alerts (Slack, Discord, etc.)
# ALERT_WEBHOOK=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

#===============================================================================
# Optional: Backup Configuration
#===============================================================================
# Remote backup destination (rsync or rclone format)
# REMOTE_SYNC_ENABLED=false
# REMOTE_DEST=user@backup-server:/backup/mail/

#===============================================================================
# Development/Testing Options
#===============================================================================
# Disable plaintext IMAP/POP3 ports (leave only SSL)
# DISABLE_PLAINTEXT=false

# Enable verbose logging
# DEBUG=false
